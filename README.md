# TvRemoteViewer_VB テンプレート iTV

極力シンプルな作りにした視聴テンプレートです。

![29497168-03dd38fe-861e-11e7-9a9e-781338223d5b](https://user-images.githubusercontent.com/31256039/29584030-6cf4a3e0-87bd-11e7-9997-8e67f509eb3c.png)


## 使用法

<a href="http://vladi.cocolog-nifty.com/blog/2014/10/iphoneandroidpc.html" target="_blank">モバイルPC等によるロケフリ・テレビの視聴環境を作る</a>を参考に動作環境を作りhtmlフォルダを差し替えしsetting.jsの書き換えをしてください。streamフォルダを入れる場合作成してください。

## 補足

**録画状況を監視する仕組みができてない**

録画機器とチューナーを共用する場合排他制御でRecTaskが邪魔しない設定にすると思いますが、録画状況を把握できす視聴映像側が停止します。

**録画状況を監視できない代案**

スクリプトは番号の大きい方（setting.jsのnum番号）から空きチューナーを探し自動的に選択する仕組みにしています。TVRock共用の場合はチューナーのプロセス優先度で番号の若い側を使うことで重複を避けられそうな気がします。または余裕があれば録画用とTvRemoteViewer用に分けてしまうと確実と思います。

**同一BonDriverの複数ストリーム使用の理屈を理解していない**

これは地上波チューナーでBS/CSが受信できちゃうんでしょうか？理解していないため仕組みを単純化する目的にsetting.jsのtunerListはペアで固定しています。numをTvRemoteViewerのストリーム番号に関連付けしています。

**非同期通信の使い過ぎなのかときどき不安定**

極力視認性のいいスクリプトを心掛けたためかjQueryのAjaxを多用することになりました。結果、非同期でちゃんと動いてるか不安になる挙動がときどき見られます。

**m3u8ファイルとtsファイルの生成状況を監視して再生のタイミングを図っています**

これが原因なのか？ときどきゴミファイルが残り挙動が不安定になるときがあります。対処法あればいいんですが…。

**録画ビデオの再生機能は？**

機会？時間があれば追加したいと思っています。

## 動作確認

- Windows10 Edge Chrome Firefox 
- iPhone5
